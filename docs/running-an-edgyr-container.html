<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Running an edgyR Container | edgyR: NVIDIAⓇ Jetson™ tools for R developers</title>
  <meta name="description" content="This book describes the edgyR project, a suite of tools for developing R packages for NVIDIA Jetson edge computing devices." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Running an edgyR Container | edgyR: NVIDIAⓇ Jetson™ tools for R developers" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This book describes the edgyR project, a suite of tools for developing R packages for NVIDIA Jetson edge computing devices." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Running an edgyR Container | edgyR: NVIDIAⓇ Jetson™ tools for R developers" />
  
  <meta name="twitter:description" content="This book describes the edgyR project, a suite of tools for developing R packages for NVIDIA Jetson edge computing devices." />
  

<meta name="author" content="M. Edward (Ed) Borasky" />


<meta name="date" content="2021-01-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="linux-for-tegra-l4t-first-steps.html"/>
<link rel="next" href="overview-of-software-on-the-image.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />












<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">edgyR: NVIDIAⓇ Jetson™ tools for R developers</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#licensing"><i class="fa fa-check"></i><b>1.2</b> Licensing</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#how-is-it-pronounced"><i class="fa fa-check"></i><b>1.3</b> How is it pronounced?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setting-up-the-jetson-nano.html"><a href="setting-up-the-jetson-nano.html"><i class="fa fa-check"></i><b>2</b> Setting up the Jetson Nano</a>
<ul>
<li class="chapter" data-level="2.1" data-path="setting-up-the-jetson-nano.html"><a href="setting-up-the-jetson-nano.html#what-to-buy"><i class="fa fa-check"></i><b>2.1</b> What to buy</a></li>
<li class="chapter" data-level="2.2" data-path="setting-up-the-jetson-nano.html"><a href="setting-up-the-jetson-nano.html#flashing-and-initialization"><i class="fa fa-check"></i><b>2.2</b> Flashing and initialization</a></li>
<li class="chapter" data-level="2.3" data-path="setting-up-the-jetson-nano.html"><a href="setting-up-the-jetson-nano.html#setup-and-first-boot"><i class="fa fa-check"></i><b>2.3</b> Setup and first boot</a></li>
<li class="chapter" data-level="2.4" data-path="setting-up-the-jetson-nano.html"><a href="setting-up-the-jetson-nano.html#references"><i class="fa fa-check"></i><b>2.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html"><i class="fa fa-check"></i><b>3</b> Linux for Tegra (L4T) First Steps</a>
<ul>
<li class="chapter" data-level="3.1" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#what-is-l4t"><i class="fa fa-check"></i><b>3.1</b> What is L4T?</a></li>
<li class="chapter" data-level="3.2" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#updating-the-operating-system"><i class="fa fa-check"></i><b>3.2</b> Updating the operating system</a></li>
<li class="chapter" data-level="3.3" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#remote-access"><i class="fa fa-check"></i><b>3.3</b> Remote access</a></li>
<li class="chapter" data-level="3.4" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#unminimize-man-sudo-and-all-that"><i class="fa fa-check"></i><b>3.4</b> <code>Unminimize</code>, <code>man</code>, <code>sudo</code> and all that</a></li>
<li class="chapter" data-level="3.5" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#remote-desktop"><i class="fa fa-check"></i><b>3.5</b> Remote desktop</a></li>
<li class="chapter" data-level="3.6" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#booting-to-a-linux-console"><i class="fa fa-check"></i><b>3.6</b> Booting to a Linux console</a></li>
<li class="chapter" data-level="3.7" data-path="linux-for-tegra-l4t-first-steps.html"><a href="linux-for-tegra-l4t-first-steps.html#references-1"><i class="fa fa-check"></i><b>3.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html"><i class="fa fa-check"></i><b>4</b> Running an <code>edgyR</code> Container</a>
<ul>
<li class="chapter" data-level="4.1" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#getting-the-repository"><i class="fa fa-check"></i><b>4.1</b> Getting the repository</a></li>
<li class="chapter" data-level="4.2" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#starting-the-edgyr-container"><i class="fa fa-check"></i><b>4.2</b> Starting the <code>edgyr</code> container</a></li>
<li class="chapter" data-level="4.3" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#using-the-container"><i class="fa fa-check"></i><b>4.3</b> Using the container</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#browsing-to-the-rstudio-server"><i class="fa fa-check"></i><b>4.3.1</b> Browsing to the RStudio Server</a></li>
<li class="chapter" data-level="4.3.2" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#exploring-the-container"><i class="fa fa-check"></i><b>4.3.2</b> Exploring the container</a></li>
<li class="chapter" data-level="4.3.3" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#logging-in-to-the-command-line"><i class="fa fa-check"></i><b>4.3.3</b> Logging in to the command line</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="running-an-edgyr-container.html"><a href="running-an-edgyr-container.html#references-2"><i class="fa fa-check"></i><b>4.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html"><i class="fa fa-check"></i><b>5</b> Overview of Software on the Image</a>
<ul>
<li class="chapter" data-level="5.1" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#software-from-the-nvidia-l4t-ml-image"><i class="fa fa-check"></i><b>5.1</b> Software from the NVIDIA <code>l4t-ml</code> image</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#operating-system-and-command-line"><i class="fa fa-check"></i><b>5.1.1</b> Operating system and command line</a></li>
<li class="chapter" data-level="5.1.2" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#python-data-science-machine-learning"><i class="fa fa-check"></i><b>5.1.2</b> Python data science / machine learning</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#added-linux-packages"><i class="fa fa-check"></i><b>5.2</b> Added Linux packages</a></li>
<li class="chapter" data-level="5.3" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#julia"><i class="fa fa-check"></i><b>5.3</b> Julia</a></li>
<li class="chapter" data-level="5.4" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#r-and-rstudio-from-source"><i class="fa fa-check"></i><b>5.4</b> R and RStudio from source</a></li>
<li class="chapter" data-level="5.5" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#the-edgyr-user"><i class="fa fa-check"></i><b>5.5</b> The <code>edgyr</code> user</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#reticulate-virtualenv-virtualenvwrapper"><i class="fa fa-check"></i><b>5.5.1</b> Reticulate / virtualenv / virtualenvwrapper</a></li>
<li class="chapter" data-level="5.5.2" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#r-packages"><i class="fa fa-check"></i><b>5.5.2</b> R packages</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="overview-of-software-on-the-image.html"><a href="overview-of-software-on-the-image.html#references-3"><i class="fa fa-check"></i><b>5.6</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html"><i class="fa fa-check"></i><b>6</b> Operations and Persistence</a>
<ul>
<li class="chapter" data-level="6.1" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#docker-operations"><i class="fa fa-check"></i><b>6.1</b> Docker operations</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#pulling-the-image"><i class="fa fa-check"></i><b>6.1.1</b> Pulling the image</a></li>
<li class="chapter" data-level="6.1.2" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#running-the-image-in-a-container"><i class="fa fa-check"></i><b>6.1.2</b> Running the image in a container</a></li>
<li class="chapter" data-level="6.1.3" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#stopping-and-restarting-the-container"><i class="fa fa-check"></i><b>6.1.3</b> Stopping and restarting the container</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#git-and-github"><i class="fa fa-check"></i><b>6.2</b> Git and GitHub</a></li>
<li class="chapter" data-level="6.3" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#next-using-jupyterlab"><i class="fa fa-check"></i><b>6.3</b> Next: Using JupyterLab</a></li>
<li class="chapter" data-level="6.4" data-path="operations-and-persistence.html"><a href="operations-and-persistence.html#references-4"><i class="fa fa-check"></i><b>6.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="using-jupyterlab.html"><a href="using-jupyterlab.html"><i class="fa fa-check"></i><b>7</b> Using JupyterLab</a>
<ul>
<li class="chapter" data-level="7.1" data-path="using-jupyterlab.html"><a href="using-jupyterlab.html#starting-jupyterlab"><i class="fa fa-check"></i><b>7.1</b> Starting JupyterLab</a></li>
<li class="chapter" data-level="7.2" data-path="using-jupyterlab.html"><a href="using-jupyterlab.html#references-5"><i class="fa fa-check"></i><b>7.2</b> References</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">edgyR: NVIDIAⓇ Jetson™ tools for R developers</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="running-an-edgyr-container" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Running an <code>edgyR</code> Container</h1>
<div id="getting-the-repository" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Getting the repository</h2>
<ol style="list-style-type: decimal">
<li><p>Open a terminal on the Jetson host machine. You can either do this from a
terminal window at the host console or logged in remotely via secure shell
(SSH).</p></li>
<li><p>Create a <code>Projects</code> directory and clone this repository into it.</p>
<pre><code>mkdir --parents ~/Projects
cd ~/Projects
git clone https://github.com/znmeb/edgyR.git
cd edgyR/container-run-scripts</code></pre></li>
</ol>
</div>
<div id="starting-the-edgyr-container" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Starting the <code>edgyr</code> container</h2>
<ol style="list-style-type: decimal">
<li><p>Download the image: <code>./pull-image</code>. You will need to enter your
Jetson password to run <code>sudo</code>.</p></li>
<li><p>Define a new password for the <code>edgyr</code> account in the container. For
security reasons, the container will exit if you do not do this. The new
password must be at least 12 characters long. Set the new password in the
environment variable <code>EDGYR_PASSWORD</code>. For example:</p>
<p><code>export EDGYR_PASSWORD="12.angry%characters"</code></p></li>
<li><p>Start the container with <code>./run-edgyr</code>. You may have to enter your Jetson
password for <code>sudo</code> again.</p>
<p>RStudio Server will start, listening on IP address <code>0.0.0.0</code> port <code>7878</code>.
You should see</p>
<pre><code>./run-edgyr
Force-removing old &#39;edgyr&#39; container
You can ignore errors if it doesn&#39;t exist
Error: No such container: edgyr
Running image znmeb/edgyr-ml:latest
fc04e5d9edbff7d2a7282d9680bd4db41009675ad1983d9e762e2c7144f2990c
CONTAINER ID        IMAGE                   COMMAND                  CREATED             STATUS              PORTS               NAMES
fc04e5d9edbf        znmeb/edgyr-ml:latest   &quot;/docker-entrypoint.…&quot;   6 seconds ago       Up 5 seconds                            edgyr
Resetting &#39;edgyr&#39; password
Starting RStudio Server - browse to port 7878 on Docker host</code></pre>
<p>The long hexadecimal string and container ID will be different on your
system, but the rest should look like what’s above. Note that port <code>7878</code> is
<strong><em>not</em></strong> the default RStudio Server port!</p>
<p>This script runs the <code>edgyr</code> container in <em>detached</em> mode. The
processes in the container are running in the background, and you can
use the terminal for other operations.</p></li>
</ol>
</div>
<div id="using-the-container" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Using the container</h2>
<p>You can use the container two ways - you can either browse to the RStudio
Server or log in to the command line from the terminal. Most users will
want to use RStudio, so we’ll cover that first.</p>
<div id="browsing-to-the-rstudio-server" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Browsing to the RStudio Server</h3>
<ol style="list-style-type: decimal">
<li><p>Browse to the server and log in. On the Jetson console, browse to
<code>localhost:7878</code>. On a remote system, browse to port <code>7878</code> on the IP
address of the Jetson host. <strong><em>Note that this is a different port number
from the RStudio Server default port number!</em></strong></p>
<p>For example, my Jetson Nano has IP address <code>192.168.254.23</code>, so I
browse to <code>http://192.168.254.23:7878</code>. The user name is <code>edgyr</code> and
the password is the one you defined when you ran the container in step
3 above – the value you set in the <code>EDGYR_PASSWORD</code> variable before
you started the container.</p>
<p><img src="images/Screenshot_2020-07-11_RStudio_Sign_In.png" width="100%" /></p></li>
</ol>
<hr />
<ol start="2" style="list-style-type: decimal">
<li><p>After you log in, you’ll see the RStudio Server web application page.</p>
<p><img src="images/Screenshot_2020-07-11_RStudio_Server.png" width="100%" /></p></li>
</ol>
<hr />
</div>
<div id="exploring-the-container" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Exploring the container</h3>
<p>The RStudio Server web application page is the standard open source RStudio
Server “desktop.” I find it useful to set the browser to full-screen mode
when using it to minimize distractions.</p>
<p>The <code>Files</code> pane shows some of the extras that are installed on the image
and are available to you in the container.</p>
<p><img src="images/Screenshot_2020-07-12_RStudio_Server_Files.png" width="100%" /></p>
<hr />
<p><code>.Renviron</code> and <code>.Rprofile</code> are the standard environment setting files;
remember to restart your <code>R</code> session if you change them. <code>already-installed</code>
contains the scripts that installed the R packages on the image; you don’t need
to run them. <code>bin</code> is the directory where <code>TinyTeX</code> installed its executables.</p>
<p><code>edit-me-then-run-4-git-config.bash</code> is a script you can edit and run to
set your <code>git</code> configuration. If you’re going to use <code>git</code>, you’ll need to
edit and then run it. <code>installers</code> contains scripts you can run to install
add-ons. Currently the only available add-on is TensorFlow 2. <code>logfiles</code>
contains compressed log files from all the software installs; <code>gunzip</code> them
if you want to look at them.</p>
<p><code>Projects</code> is an empty folder for you to store your projects.
<code>start-jupyter-lab</code> starts a JupyterLab server; there is an entire vignette
devoted to JupyterLab in <code>vignette("kk-jupyter-lab")</code>. <code>test-scripts</code> has some
scripts you can run and use as examples.</p>
</div>
<div id="logging-in-to-the-command-line" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Logging in to the command line</h3>
<p>There are two scripts to log in to the command line of the container:
<code>login-as-edgyr</code> and <code>login-as-root</code>. Neither one requires a password.
Normally you’ll want to log in as the non-root user <code>edgyr</code>. When you do,
it will look like this:</p>
<pre><code>$ ./login-as-edgyr 
To run a command as administrator (user &quot;root&quot;), use &quot;sudo &lt;command&gt;&quot;.
See &quot;man sudo_root&quot; for details.

edgyr@edgyr:~$ </code></pre>
<p>Note that you <em>will</em> need the <code>edgyr</code> password if you use <code>sudo</code> when
logged in as <code>edgyr</code>.</p>
<p>What can you do at the command line? Pretty much anything you can do with
<code>bash</code>, <code>Julia</code>, <code>Python</code> and <code>R</code> from the command line on any Linux system.
The functionality is identical to a <code>Terminal</code> pane in RStudio Server.</p>
</div>
</div>
<div id="references-2" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> References</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="linux-for-tegra-l4t-first-steps.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="overview-of-software-on-the-image.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["edgyR.github.io.pdf", "edgyR.github.io.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
